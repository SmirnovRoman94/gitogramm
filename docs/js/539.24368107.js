"use strict";(self["webpackChunkgitogram"]=self["webpackChunkgitogram"]||[]).push([[539],{8874:function(t,e,a){a.d(e,{Z:function(){return g}});var i=a(3396),n=a(7139);const s={key:0},o={key:1,class:"spiner-item"},l={key:2,class:"git"};function d(t,e,a,d,r,c){const m=(0,i.up)("spiner"),h=(0,i.up)("icon");return(0,i.wg)(),(0,i.iD)("button",{class:(0,n.C_)(["btn",t.itemFollow]),onClick:e[0]||(e[0]=(...t)=>c.following&&c.following(...t))},[0==a.loading?((0,i.wg)(),(0,i.iD)("div",s,(0,n.zw)(!1===this.change?a.nameBtn:a.changeTitle),1)):((0,i.wg)(),(0,i.iD)("div",o,[(0,i.Wm)(m,{height:20,width:20})])),1==a.gitItem?((0,i.wg)(),(0,i.iD)("div",l,[(0,i.Wm)(h,{name:"gitHub"})])):(0,i.kq)("",!0)],2)}var r=a(9677),c=a(6466),m={name:"button",components:{spiner:r.Z,icon:c.Z},data:()=>({itemFollow:"default"}),props:{nameBtn:{type:String},changeTitle:{type:String},loading:{type:Boolean,default:()=>!1},gitItem:{type:Boolean,default:()=>!1},change:{type:Boolean,default:()=>!1}},emits:["clicked"],methods:{following(){this.itemFollow="default"===this.itemFollow?"active":"default",this.$emit("clicked")}}},h=a(89);const u=(0,h.Z)(m,[["render",d],["__scopeId","data-v-15a8d1c1"]]);var g=u},9677:function(t,e,a){a.d(e,{Z:function(){return r}});var i=a(3396),n=a(7139);function s(t,e,a,s,o,l){return(0,i.wg)(),(0,i.iD)("div",{class:"spinner",style:(0,n.j5)({height:a.height+"px",width:a.width+"px"})},null,4)}var o={name:"spiner",props:{height:{type:Number,default:()=>50},width:{type:Number,default:()=>50}}},l=a(89);const d=(0,l.Z)(o,[["render",s],["__scopeId","data-v-c27b60d2"]]);var r=d},1539:function(t,e,a){a.r(e),a.d(e,{default:function(){return at}});a(7658);var i=a(3396),n=a(7139);const s={class:"back"},o={class:"header"},l={class:"logo",href:"#"},d={class:"close"},r={class:"stories"},c={key:0,class:"controls"};function m(t,e,a,m,h,u){const g=(0,i.up)("icon"),p=(0,i.up)("userSliderItem");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i._)("div",o,[(0,i._)("a",l,[(0,i.Wm)(g,{name:"logo"})]),(0,i._)("div",d,[(0,i.Wm)(g,{name:"close",onClick:e[0]||(e[0]=e=>t.$router.push("/"))})])]),(0,i._)("div",r,[(0,i._)("div",{class:"content-stories",style:(0,n.j5)({transform:"translateX("+this.turnData+"px)"})},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.dataItemsRepo,((a,s)=>((0,i.wg)(),(0,i.iD)("div",{key:s,class:(0,n.C_)(["content-item",{active:t.activeIndex==s}])},[(0,i.Wm)(p,{data:a,active:"",loading:a.loading,onFollow:u.followItem},null,8,["data","loading","onFollow"]),t.activeIndex==s?((0,i.wg)(),(0,i.iD)("div",c,[(0,i._)("div",{class:(0,n.C_)(["controls-item",u.regularClass])},[t.activeIndex>0?((0,i.wg)(),(0,i.j4)(g,{key:0,class:"icon",onClick:u.prev,name:"arrowLeft"},null,8,["onClick"])):(0,i.kq)("",!0),t.activeIndex<t.dataItemsRepo.length-1?((0,i.wg)(),(0,i.j4)(g,{key:1,class:"icon",onClick:e[1]||(e[1]=t=>u.next(null)),name:"arrowRight"})):(0,i.kq)("",!0)],2)])):(0,i.kq)("",!0)],2)))),128))],4)])])}var h=a(6466);const u={class:"wrapper"},g={class:"content"},p={key:0,class:"spiner"},v={key:1},f=["innerHTML"],I={key:2,class:"placeholder"},w={class:"footer"};function _(t,e,a,n,s,o){const l=(0,i.up)("progressLine"),d=(0,i.up)("avatar"),r=(0,i.up)("spiner"),c=(0,i.up)("placeholder"),m=(0,i.up)("itembutton");return(0,i.wg)(),(0,i.iD)("div",u,[(0,i.Wm)(l,{activeItem:a.active},null,8,["activeItem"]),(0,i.Wm)(d,{src:a.data.avatar,alt:a.data.login,title:a.data.name,class:"avatar-item"},null,8,["src","alt","title"]),(0,i._)("div",g,[1==a.loading?((0,i.wg)(),(0,i.iD)("div",p,[(0,i.Wm)(r)])):(0,i.kq)("",!0),a.data.data?((0,i.wg)(),(0,i.iD)("div",v,[(0,i._)("div",{class:"content-item",innerHTML:a.data.data},null,8,f)])):((0,i.wg)(),(0,i.iD)("div",I,[(0,i.Wm)(c,{count:3})]))]),(0,i._)("div",w,[(0,i.Wm)(m,{nameBtn:"Follow",changeTitle:"Unfollow",change:a.data.follow,loading:!1,onClick:e[0]||(e[0]=e=>t.$emit("follow",a.data))},null,8,["change"])])])}const k={ref:"indicator",class:"indicator"};function y(t,e,a,s,o,l){return(0,i.wg)(),(0,i.iD)("div",{class:(0,n.C_)(["c-progress",{active:t.active}])},[(0,i._)("div",k,null,512)],2)}var D={name:"progressLine",data:()=>({active:!1}),props:{activeItem:{type:Boolean,default:!1}},emits:["onFinish"],methods:{emitOnFinish(){this.$emit("onFinish")}},mounted(){setTimeout((()=>{this.active=this.activeItem}),500),this.$refs.indicator.addEventListener("transitionend",this.emitOnFinish)},beforeUnmount(){this.$refs.indicator.removeEventListener("transitionend",this.emitOnFinish)}},x=a(89);const T=(0,x.Z)(D,[["render",y],["__scopeId","data-v-563365d7"]]);var b=T;const C={class:"avatar-component"},L={class:"title"};function Z(t,e,a,s,o,l){return(0,i.wg)(),(0,i.iD)("div",C,[(0,i._)("img",(0,n.vs)((0,i.F4)(t.$attrs)),null,16),(0,i._)("p",L,(0,n.zw)(a.title),1)])}var F={name:"avatar",props:{title:{type:String}}};const R=(0,x.Z)(F,[["render",Z],["__scopeId","data-v-0d96edc3"]]);var W=R,$=a(8874),q=a(9677);const B=t=>((0,i.dD)("data-v-40fc381a"),t=t(),(0,i.Cn)(),t),S={class:"cards"},j={class:"card is-loading"},H={class:"content"},O=B((()=>(0,i._)("h1",null,null,-1))),E={class:"items",ref:"items"},N=B((()=>(0,i._)("p",{class:"first"},null,-1))),z=B((()=>(0,i._)("p",{class:"second"},null,-1))),K=B((()=>(0,i._)("p",{class:"third"},null,-1))),M=B((()=>(0,i._)("p",{class:"firth"},null,-1))),U=[N,z,K,M];function Y(t,e,a,n,s,o){return(0,i.wg)(),(0,i.iD)("div",S,[(0,i._)("div",j,[(0,i._)("div",H,[O,(0,i._)("div",E,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.arr,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"item",key:t},U)))),128))],512)])])])}var X={name:"placeholder_item",data:()=>({arr:[]}),props:{count:{type:Number,default:()=>1}},methods:{counItem(){for(let t=0;t<=this.count-1;t++)this.arr.push(t)}},mounted(){this.counItem()}};const A=(0,x.Z)(X,[["render",Y],["__scopeId","data-v-40fc381a"]]);var G=A,J={name:"userSliderItem",components:{progressLine:b,avatar:W,itembutton:$.Z,spiner:q.Z,placeholder:G},props:{active:Boolean,loading:{type:Boolean,default:()=>!1},data:{type:Object,required:!0,default:()=>({})}}};const P=(0,x.Z)(J,[["render",_],["__scopeId","data-v-2c7326a6"]]);var Q=P,V=a(65),tt={name:"stories_page",components:{icon:h.Z,userSliderItem:Q},data:()=>({dataItemsRepo:[],activeIndex:0,turnData:0}),computed:{...(0,V.Se)({dataItems:"trandings/getDataTrandings"}),...(0,V.rn)({trendingsData:t=>t.trandings.data}),regularClass(){let t="";return t=this.activeIndex<=0?"end":"start",t}},methods:{...(0,V.nv)({fetchTrandings:"trandings/fetchTrandings",fetchTrandingsItem:"trandings/fetchTrandingsItem",addLike:"user/addLike",deleteLike:"user/deleteLike"}),prev(){this.activeIndex--,this.turnData=this.turnData+475},next(t){t?(this.dataItemsRepo[this.activeIndex].loading=!0,this.fetchTrandingsItem(this.dataItemsRepo[this.activeIndex]),this.turnData=-475*t):(this.activeIndex++,this.dataItemsRepo[this.activeIndex].loading=!0,this.fetchTrandingsItem(this.dataItemsRepo[this.activeIndex]),this.turnData=this.turnData-475)},async followItem(t){if(console.log(t.follow),0==t.follow){let e=t.id,a=await this.addLike({owner:t.login,repo:t.title});this.dataItemsRepo.map((t=>t.id===e?t.follow=a:t)),console.log(this.dataItemsRepo)}else{let e=t.id,a=await this.deleteLike({owner:t.login,repo:t.title});this.dataItemsRepo.map((t=>t.id===e?t.follow=a:t))}}},watch:{dataItems:function(){if(console.log(this.dataItems),this.dataItems.forEach((t=>{let e={id:t.id,login:t.owner.login,name:t.name,avatar:t.owner.avatar_url,loading:!1,follow:!1};this.dataItemsRepo.push(e)})),this.$route.query.id){let t=this.dataItems.findIndex((t=>t.id==this.$route.query.id)),e={id:this.dataItems[t].id,login:this.dataItems[t].owner.login,name:this.dataItems[t].name,avatar:this.dataItems[t].owner.avatar_url,loading:!1,follow:this.dataItems[t].follow};-1!==t&&(this.fetchTrandingsItem(e),this.activeIndex=t,0!==t&&this.next(t))}else this.fetchTrandingsItem(this.dataItems[0])},activeIndex:function(){console.log(this.activeIndex)},trendingsData:function(){this.dataItemsRepo.splice(this.activeIndex,1,this.trendingsData)}},async created(){console.log(this.$route.query),await this.fetchTrandings()}};const et=(0,x.Z)(tt,[["render",m],["__scopeId","data-v-2365c253"]]);var at=et}}]);
//# sourceMappingURL=539.24368107.js.map