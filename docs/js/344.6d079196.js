"use strict";(self["webpackChunkgitogram"]=self["webpackChunkgitogram"]||[]).push([[344],{3050:function(t,e,a){a.d(e,{Z:function(){return g}});var i=a(3396),n=a(7139);const s={key:0},o={key:1,class:"spiner-item"},l={key:2,class:"git"};function r(t,e,a,r,d,c){const u=(0,i.up)("spiner"),h=(0,i.up)("icon");return(0,i.wg)(),(0,i.iD)("button",{class:(0,n.C_)(["btn",c.itemFollow]),onClick:e[0]||(e[0]=function(){return c.following&&c.following(...arguments)})},[0==a.loading?((0,i.wg)(),(0,i.iD)("div",s,(0,n.zw)(!1===this.change?a.nameBtn:a.changeTitle),1)):((0,i.wg)(),(0,i.iD)("div",o,[(0,i.Wm)(u,{height:20,width:20})])),1==a.gitItem?((0,i.wg)(),(0,i.iD)("div",l,[(0,i.Wm)(h,{name:"gitHub"})])):(0,i.kq)("",!0)],2)}var d=a(9677),c=a(6466),u={name:"button",components:{spiner:d.Z,icon:c.Z},props:{nameBtn:{type:String},changeTitle:{type:String},loading:{type:Boolean,default:()=>!1},gitItem:{type:Boolean,default:()=>!1},change:{type:Boolean,default:()=>!1}},emits:["clicked"],computed:{itemFollow(){let t="";return t=0==this.change?"default":"active",t}},methods:{following(){this.itemFollow="default"===this.itemFollow?"active":"default",this.$emit("clicked")}},mounted(){console.log(this.change)}},h=a(89);const m=(0,h.Z)(u,[["render",r],["__scopeId","data-v-ba171974"]]);var g=m},8095:function(t,e,a){a.d(e,{Z:function(){return w}});var i=a(3396);const n=t=>((0,i.dD)("data-v-40fc381a"),t=t(),(0,i.Cn)(),t),s={class:"cards"},o={class:"card is-loading"},l={class:"content"},r=n((()=>(0,i._)("h1",null,null,-1))),d={class:"items",ref:"items"},c=n((()=>(0,i._)("p",{class:"first"},null,-1))),u=n((()=>(0,i._)("p",{class:"second"},null,-1))),h=n((()=>(0,i._)("p",{class:"third"},null,-1))),m=n((()=>(0,i._)("p",{class:"firth"},null,-1))),g=[c,u,h,m];function v(t,e,a,n,c,u){return(0,i.wg)(),(0,i.iD)("div",s,[(0,i._)("div",o,[(0,i._)("div",l,[r,(0,i._)("div",d,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.arr,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"item",key:t},g)))),128))],512)])])])}a(7658);var p={name:"placeholder_item",data:()=>({arr:[]}),props:{count:{type:Number,default:()=>1}},methods:{counItem(){for(let t=0;t<=this.count-1;t++)this.arr.push(t)}},mounted(){this.counItem()}},f=a(89);const I=(0,f.Z)(p,[["render",v],["__scopeId","data-v-40fc381a"]]);var w=I},9677:function(t,e,a){a.d(e,{Z:function(){return d}});var i=a(3396),n=a(7139);function s(t,e,a,s,o,l){return(0,i.wg)(),(0,i.iD)("div",{class:"spinner",style:(0,n.j5)({height:a.height+"px",width:a.width+"px"})},null,4)}var o={name:"spiner",props:{height:{type:Number,default:()=>50},width:{type:Number,default:()=>50}}},l=a(89);const r=(0,l.Z)(o,[["render",s],["__scopeId","data-v-c27b60d2"]]);var d=r},344:function(t,e,a){a.r(e),a.d(e,{default:function(){return N}});a(7658);var i=a(3396),n=a(7139);const s={class:"back"},o={class:"header"},l={class:"logo",href:"#"},r={class:"close"},d={class:"stories"},c={key:0,class:"controls"};function u(t,e,a,u,h,m){const g=(0,i.up)("icon"),v=(0,i.up)("userSliderItem");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i._)("div",o,[(0,i._)("a",l,[(0,i.Wm)(g,{name:"logo"})]),(0,i._)("div",r,[(0,i.Wm)(g,{name:"close",onClick:e[0]||(e[0]=e=>t.$router.push("/"))})])]),(0,i._)("div",d,[(0,i._)("div",{class:"content-stories",style:(0,n.j5)({transform:"translateX("+this.turnData+"px)"})},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.dataItemsRepo,((a,s)=>((0,i.wg)(),(0,i.iD)("div",{key:s,class:(0,n.C_)(["content-item",{active:t.activeIndex==s}])},[(0,i.Wm)(v,{data:a,active:"",loading:a.loading,onFollow:m.followItem},null,8,["data","loading","onFollow"]),t.activeIndex==s?((0,i.wg)(),(0,i.iD)("div",c,[(0,i._)("div",{class:(0,n.C_)(["controls-item",m.regularClass])},[t.activeIndex>0?((0,i.wg)(),(0,i.j4)(g,{key:0,class:"icon",onClick:m.prev,name:"arrowLeft"},null,8,["onClick"])):(0,i.kq)("",!0),t.activeIndex<t.dataItemsRepo.length-1?((0,i.wg)(),(0,i.j4)(g,{key:1,class:"icon",onClick:e[1]||(e[1]=t=>m.next(null)),name:"arrowRight"})):(0,i.kq)("",!0)],2)])):(0,i.kq)("",!0)],2)))),128))],4)])])}var h=a(6466);const m={class:"wrapper"},g={class:"content"},v={key:0,class:"spiner"},p={key:1},f=["innerHTML"],I={key:2,class:"placeholder"},w={class:"footer"};function k(t,e,a,n,s,o){const l=(0,i.up)("progressLine"),r=(0,i.up)("avatar"),d=(0,i.up)("spiner"),c=(0,i.up)("placeholder"),u=(0,i.up)("itembutton");return(0,i.wg)(),(0,i.iD)("div",m,[(0,i.Wm)(l,{activeItem:a.active},null,8,["activeItem"]),(0,i.Wm)(r,{src:a.data.avatar,alt:a.data.login,title:a.data.name,class:"avatar-item"},null,8,["src","alt","title"]),(0,i._)("div",g,[1==a.loading?((0,i.wg)(),(0,i.iD)("div",v,[(0,i.Wm)(d)])):(0,i.kq)("",!0),a.data.data?((0,i.wg)(),(0,i.iD)("div",p,[(0,i._)("div",{class:"content-item",innerHTML:a.data.data},null,8,f)])):((0,i.wg)(),(0,i.iD)("div",I,[(0,i.Wm)(c,{count:3})]))]),(0,i._)("div",w,[(0,i.Wm)(u,{nameBtn:"Follow",changeTitle:"Unfollow",change:a.data.follow,loading:!1,onClick:e[0]||(e[0]=e=>t.$emit("follow",a.data))},null,8,["change"])])])}const _={ref:"indicator",class:"indicator"};function y(t,e,a,s,o,l){return(0,i.wg)(),(0,i.iD)("div",{class:(0,n.C_)(["c-progress",{active:t.active}])},[(0,i._)("div",_,null,512)],2)}var D={name:"progressLine",data:()=>({active:!1}),props:{activeItem:{type:Boolean,default:!1}},emits:["onFinish"],methods:{emitOnFinish(){this.$emit("onFinish")}},mounted(){setTimeout((()=>{this.active=this.activeItem}),500),this.$refs.indicator.addEventListener("transitionend",this.emitOnFinish)},beforeUnmount(){this.$refs.indicator.removeEventListener("transitionend",this.emitOnFinish)}},x=a(89);const L=(0,x.Z)(D,[["render",y],["__scopeId","data-v-563365d7"]]);var T=L;const b={class:"avatar-component"},Z={class:"title"};function C(t,e,a,s,o,l){return(0,i.wg)(),(0,i.iD)("div",b,[(0,i._)("img",(0,n.vs)((0,i.F4)(t.$attrs)),null,16),(0,i._)("p",Z,(0,n.zw)(a.title),1)])}var F={name:"avatar",props:{title:{type:String}}};const R=(0,x.Z)(F,[["render",C],["__scopeId","data-v-0d96edc3"]]);var W=R,$=a(3050),q=a(9677),B=a(8095),U={name:"userSliderItem",components:{progressLine:T,avatar:W,itembutton:$.Z,spiner:q.Z,placeholder:B.Z},props:{active:Boolean,loading:{type:Boolean,default:()=>!1},data:{type:Object,required:!0,default:()=>({})}},mounted(){console.log(this.data)}};const S=(0,x.Z)(U,[["render",k],["__scopeId","data-v-8c57aefe"]]);var j=S,H=a(65),O={name:"stories_page",components:{icon:h.Z,userSliderItem:j},data:()=>({dataItemsRepo:[],activeIndex:0,turnData:0}),computed:{...(0,H.Se)({dataItems:"trandings/getDataTrandings",getUserLikesIds:"user/getUserLikesIds"}),...(0,H.rn)({trendingsData:t=>t.trandings.data}),regularClass(){let t="";return t=this.activeIndex<=0?"end":"start",t}},methods:{...(0,H.nv)({fetchTrandings:"trandings/fetchTrandings",fetchTrandingsItem:"trandings/fetchTrandingsItem",addLike:"user/addLike",deleteLike:"user/deleteLike",userLikes:"user/userLikes"}),prev(){this.activeIndex--,this.turnData=this.turnData+475},next(t){t?(this.dataItemsRepo[this.activeIndex].loading=!0,this.fetchTrandingsItem(this.dataItemsRepo[this.activeIndex]),this.turnData=-475*t):(this.activeIndex++,this.dataItemsRepo[this.activeIndex].loading=!0,this.fetchTrandingsItem(this.dataItemsRepo[this.activeIndex]),this.turnData=this.turnData-475)},async followItem(t){if(console.log(t.follow),0==t.follow){let e=t.id,a=await this.addLike({owner:t.login,repo:t.title});this.dataItemsRepo.map((t=>t.id===e?t.follow=a:t)),console.log(this.dataItemsRepo)}else{let e=t.id,a=await this.deleteLike({owner:t.login,repo:t.title});this.dataItemsRepo.map((t=>t.id===e?t.follow=a:t))}}},watch:{dataItems:function(){if(console.log(this.dataItems),this.dataItems.forEach((t=>{let e={id:t.id,login:t.owner.login,name:t.name,avatar:t.owner.avatar_url,loading:!1,follow:t.follow};this.dataItemsRepo.push(e)})),this.$route.query.id){let t=this.dataItems.findIndex((t=>t.id==this.$route.query.id)),e={id:this.dataItems[t].id,login:this.dataItems[t].owner.login,name:this.dataItems[t].name,avatar:this.dataItems[t].owner.avatar_url,loading:!1,follow:this.dataItems[t].follow};-1!==t&&(this.fetchTrandingsItem(e),this.activeIndex=t,0!==t&&this.next(t))}else this.fetchTrandingsItem(this.dataItems[0])},activeIndex:function(){console.log(this.activeIndex)},trendingsData:function(){this.dataItemsRepo.splice(this.activeIndex,1,this.trendingsData)}},async created(){console.log(this.$route.query,this.getUserLikesIds),null!==this.getUserLikesIds?await this.fetchTrandings(this.getUserLikesIds):(await this.userLikes(),this.fetchTrandings(this.getUserLikesIds))}};const E=(0,x.Z)(O,[["render",u],["__scopeId","data-v-d88f0f42"]]);var N=E}}]);
//# sourceMappingURL=344.6d079196.js.map